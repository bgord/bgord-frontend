import e,{useState as n,useEffect as t,useRef as i,useLayoutEffect as r}from"react";var o,a;function d(e){const i=e.length-e.max,r=e.length>e.max;function a(){return r?o.contracted:o.expanded}const[d,c]=n(a);return t(()=>c(a()),[e.length,e.max]),{state:d,displayShowMore:d===o.contracted,displayShowLess:d===o.expanded&&r,showMore:function(){d===o.contracted&&c(o.expanded)},showLess:function(){d===o.expanded&&c(o.contracted)},numberOfExcessiveElements:i,filterFn:function(n,t){return d===o.expanded||t<e.max}}}function c(e){var t;const i=null!=(t=null==e?void 0:e.maxSize)?t:Infinity,[r,o]=n(a.idle),[d,c]=n(null),u={selectFile:function(e){const n=e.currentTarget.files;if(!n||!n[0])return;const t=n[0];if(t.size>i)return o(a.error);c(t),o(a.selected)},clearFile:function(){c(null),o(a.idle)}};return r===a.idle?{state:r,data:null,actions:u}:r===a.selected?{state:r,data:d,actions:u}:{state:r,data:null,actions:u}}function u(e){var t,i;const r=null!=(t=null==e?void 0:e.defaultItems)?t:[],o=null!=(i=null==e?void 0:e.comparisonFn)?i:(e,n)=>e===n,[a,d]=n(r);function c(e){d(n=>Array.isArray(e)?[...n,...e]:[...n,e])}function u(e){d(n=>n.filter(n=>!o(n,e)))}function l(e){return a.some(n=>o(n,e))}return[a,{clear:function(){d([])},add:c,remove:u,toggle:function(e){l(e)?u(e):c(e)},isAdded:l,update:d}]}function l(e){const n=i(null);return t(()=>{n.current=e}),n.current}function s(e=!0){r(()=>{if(!e)return;const n=document.querySelector("html"),t=document.body,i=window.getComputedStyle(t).overflow,r=window.getComputedStyle(n).overflow;return t.style.overflow="hidden",n.style.overflow="hidden",()=>{t.style.overflow=i,n.style.overflow=r}},[e])}function f(){const[e,t]=n("");return{query:e,clear:function(){t("")},onChange:function(e){t(e.currentTarget.value)},filterFn:function(n){return""===e||(null==n?void 0:n.toLowerCase().includes(e.toLowerCase()))}}}function p(e=!1){const[t,i]=n(e);return{on:t,off:!t,enable:()=>i(!0),disable:()=>i(!1),toggle:()=>i(e=>!e)}}function m(){const[e,i]=n({width:void 0,height:void 0});return t(()=>{function e(){i({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),e}function h(){return h=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},h.apply(this,arguments)}!function(e){e.contracted="contracted",e.expanded="expanded"}(o||(o={})),function(e){e.idle="idle",e.selected="selected",e.error="error"}(a||(a={}));const v=e.createContext(void 0);function g(n){const[t,i]=function(){var e;const t=null!=(e=null==n?void 0:n.timeout)?e:5e3,[i,r]=u({comparisonFn:(e,n)=>e.id===n.id});return[[...i].reverse(),{add:function(e){const n=h({},e,{id:String(Date.now())});r.add(n),setTimeout(()=>r.remove(n),t)},remove:r.remove,clear:r.clear}]}();return e.createElement(v.Provider,{value:[t,i]},n.children)}function w(){const n=e.useContext(v);if(void 0===n)throw new Error("useToasts must be used within the ToastsContextProvider");return n}function y(){const[,e]=w();return e.add}const x=["children"];var b;function E(n){var t;const i=null!=(t=n.duration)?t:300,[r,o]=e.useState(function(){return n.visible?n.isInitial?b.appeared:b.appearing:b.hidden}),a=l(r);return e.useEffect(()=>{if(!n.isInitial)if(n.visible)o(b.appearing),setTimeout(()=>o(b.appeared),100);else{if(!a)return;o(b.hidding),setTimeout(()=>o(b.hidden),i)}},[n.visible]),r===b.hidden?null:e.cloneElement(n.children,{"data-anima":r,"data-anima-effect":n.effect,style:h({"--duration":`${i}ms`},n.children.props.style)})}function S(e){return{"data-anima":e["data-anima"],"data-anima-effect":e["data-anima-effect"],style:e.style}}function C(n){const t=function(e,n){if(null==e)return{};var t,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n.indexOf(t=o[i])>=0||(r[t]=e[t]);return r}(n,x),[i,r]=e.useState(!0);return e.useEffect(()=>r(!1),[]),e.createElement("ul",h({},t),n.children.map(n=>e.cloneElement(n,{isInitial:i})))}function T(n,t="head"){const[i,r]=e.useState(n.map(e=>({item:e,props:{visible:!0}}))),o=[];for(const e of n)!i.map(e=>e.item).some(n=>e.id===n.id)&&o.push(e);e.useEffect(()=>{0!==o.length&&r("head"===t?e=>[...o.map(e=>({item:e,props:{visible:!0}})),...e]:e=>[...e,...o.map(e=>({item:e,props:{visible:!0}}))])},[o.length,t]);const a=[];for(const{item:e}of i)n.every(n=>n.id!==e.id)&&a.push(e);return e.useEffect(()=>{0!==a.length&&r(e=>e.map(e=>a.some(n=>n.id===e.item.id)?h({},e,{props:{visible:!1}}):e))},[a.length]),{items:i.map(e=>{const t=n.find(n=>n.id===e.item.id);return t?h({},e,{item:t}):e}),count:i.filter(e=>e.props.visible).length}}!function(e){e.appearing="appearing",e.appeared="appeared",e.hidding="hidding",e.hidden="hidden"}(b||(b={}));export{E as Anima,C as AnimaList,b as AnimaState,g as ToastsContextProvider,o as UseExpandableListState,a as UseFileState,S as getAnimaProps,T as useAnimaList,d as useExpandableList,c as useFile,u as useList,l as usePreviousValue,s as useScrollLock,f as useSearch,y as useToastTrigger,w as useToastsContext,p as useToggle,m as useWindowDimensions};
//# sourceMappingURL=bgord-frontend.modern.js.map
